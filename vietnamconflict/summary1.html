<!DOCTYPE html>
<html>
<head>
  <title>Embedding Vega-Lite</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@4.3.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc10"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.24.1"></script>
  <link rel="stylesheet" href="css/global.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional thee -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <script src="http://d3js.org/d3.v4.min.js" type="text/javascript"></script>
</head>
<body>
  <div class="App">
    <h1>Summary of Injury Statistics</h1>
    <div id="vis1"></div>
    <svg width="650" height="60">
      <rect x="0" y="10" width="30" height="20" fill="#ff0092" />
      <rect x="200" y="10" width="30" height="20" fill="#1f9dc4" />
      <rect x="400" y="10" width="30" height="20" fill="#000000" />
      <text x='35' y='25'>MSK Injury</text>
      <text x='235' y='25'>Non-MSK Injury</text>
      <text x='435' y='25'>Injury record present, but no label</text>
    </svg>

    <div id="vis2"></div>
    <h1></h1>
    <div id="vis3"></div>
    <div id="vis4"></div>
    <a href="./index.html" style="color:inherit">Return to index</a>
  </div>

  <script type="text/javascript">

    d3.json("injured_unique_indiv.json", function(err, json) {
      var yourVlSpec1 = 
{
  "config": {
    "view": {"width": 400, "height": 300, "strokeOpacity": 0},
    "axis": {"grid": false}
  },
  "vconcat": [
    {
      "hconcat": [
        {
          "layer": [
            {
              "data": {"name": "data-9957994194798a72fd6ba4f70c3c70b3"},
              "mark": "bar",
              "encoding": {
                "x": {
                  "type": "quantitative",
                  "aggregate": "count",
                  "field": "soldier_id",
                  "scale": {"domain": [0, 60]},
                  "sort": "descending",
                  "title": "Count of injury events"
                },
                "y": {
                  "type": "ordinal",
                  "axis": null,
                  "field": "exemption_start_date",
                  "scale": {"domain": ["Jul", "Aug", "Sept"]},
                  "timeUnit": "month",
                  "title": ""
                }
              },
              "height": 100,
              "title": "Echo",
              "transform": [{"filter": "(datum.company === 'Echo')"}],
              "width": 400
            },
            {
              "data": {"name": "data-9957994194798a72fd6ba4f70c3c70b3"},
              "mark": {
                "type": "text",
                "align": "right",
                "baseline": "middle",
                "dx": -3
              },
              "encoding": {
                "text": {
                  "type": "quantitative",
                  "aggregate": "count",
                  "field": "soldier_id"
                },
                "x": {
                  "type": "quantitative",
                  "aggregate": "count",
                  "field": "soldier_id",
                  "scale": {"domain": [0, 60]},
                  "sort": "descending",
                  "title": "Count of injury events"
                },
                "y": {
                  "type": "ordinal",
                  "axis": null,
                  "field": "exemption_start_date",
                  "scale": {"domain": ["Jul", "Aug", "Sept"]},
                  "timeUnit": "month",
                  "title": ""
                }
              },
              "height": 100,
              "title": "Echo",
              "transform": [{"filter": "(datum.company === 'Echo')"}],
              "width": 400
            }
          ]
        },
        {
          "data": {"name": "data-7de9fa612663e17a8782598414c6f738"},
          "mark": {
            "type": "text",
            "align": "center",
            "baseline": "middle",
            "dx": 0,
            "dy": 0
          },
          "encoding": {
            "text": {"type": "ordinal", "field": "month"},
            "y": {
              "type": "ordinal",
              "axis": null,
              "field": "month",
              "scale": {"domain": ["Jul", "Aug", "Sept"]}
            }
          },
          "height": 100,
          "width": 40
        },
        {
          "layer": [
            {
              "data": {"name": "data-9957994194798a72fd6ba4f70c3c70b3"},
              "mark": "bar",
              "encoding": {
                "x": {
                  "type": "quantitative",
                  "aggregate": "count",
                  "field": "soldier_id",
                  "scale": {"domain": [0, 60]},
                  "sort": "ascending",
                  "title": "Count of injury events"
                },
                "y": {
                  "type": "ordinal",
                  "axis": null,
                  "field": "exemption_start_date",
                  "scale": {"domain": ["Jul", "Aug", "Sept"]},
                  "timeUnit": "month",
                  "title": ""
                }
              },
              "height": 100,
              "title": "Golf",
              "transform": [{"filter": "(datum.company === 'Golf')"}],
              "width": 400
            },
            {
              "data": {"name": "data-9957994194798a72fd6ba4f70c3c70b3"},
              "mark": {
                "type": "text",
                "align": "left",
                "baseline": "middle",
                "dx": 3
              },
              "encoding": {
                "text": {
                  "type": "quantitative",
                  "aggregate": "count",
                  "field": "soldier_id"
                },
                "x": {
                  "type": "quantitative",
                  "aggregate": "count",
                  "field": "soldier_id",
                  "scale": {"domain": [0, 60]},
                  "sort": "ascending",
                  "title": "Count of injury events"
                },
                "y": {
                  "type": "ordinal",
                  "axis": null,
                  "field": "exemption_start_date",
                  "scale": {"domain": ["Jul", "Aug", "Sept"]},
                  "timeUnit": "month",
                  "title": ""
                }
              },
              "height": 100,
              "title": "Golf",
              "transform": [{"filter": "(datum.company === 'Golf')"}],
              "width": 400
            }
          ]
        }
      ]
    }
  ],
  "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json",
  "datasets": {
    "data-9957994194798a72fd6ba4f70c3c70b3": json
  }
}

    vegaEmbed("#vis1", yourVlSpec1);
  </script>

</body>
</html>