<!DOCTYPE html> 

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Styling -->
  <link rel="stylesheet" type="text/css" href="../vendor/semantic/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="./css/main.css">

  <!-- JavaScript files -->
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script
    src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>
  <script src="../vendor/semantic/semantic.min.js"></script>
  <style>
    #vis-nav {
      position: absolute;
      bottom: 20px;
    }
    .axis path, .axis tick, .axis line {
      fill: none;
      stroke: none;
    }
    .axis text {
      fill: white;
    }
    #heatmap {
      position: absolute;
    }
    #heatmap-story {
      position: absolute;
      left: 450px;
      top: 200px;
    }   
  </style>
</head>
<body>

  <div id='heatmap'></div>
  <div id='heatmap-story'></div>

  <div id="wrapper">
    <div id="container">
      
      <div class='header'>
        <h1>GLOBAL DEVELOPMENT AID</h1>
        <p style='color:white'>DONORS AND RECIPIENTS</p>
        <h2 style='color:white'>1973-2013</h2>
      </div>

      <div class='intro'>
        <div class='intro-main'><h2>
          Financial aid flows between countries, specifically from rich nations to poorer nations of the global south is not a new phenomenon. AidData maintains the most comprehensive project-level database tracking international development finance and have publically released the data. This visualization is based on data on global development aid between 1973 and 2014 collected by AidData. It aims to answer questions on how aid flows have changed over time and serves as an exploration tool of donations distributed across countries.
        </h2></div><br>
        <div class='intro-sub'>
          <b>Official Citation</b>
          <p>Tierney, Michael J., Daniel L. Nielson, Darren G. Hawkins, J. Timmons Roberts, Michael G. Findley, Ryan M. Powers, Bradley Parks, Sven E. Wilson, and Robert L. Hicks. 2011.   More Dollars than Sense: Refining Our Knowledge of Development Finance Using AidData. World Development 39 (11): 1891-1906.</p>
          <p>Updated in: AidData. 2017. AidDataCore_ResearchRelease_Level1_v3.1 Research Releases dataset. Williamsburg, VA: AidData. Accessed on [date]. http://aiddata.org/datasets. </p>
          <br>
        </div>
        <div class='intro-controls'>
          <p>Press Start to be taken through the complete story, or press the circles that correspond to each section to jump straight to the intermediary views.</p>
        </div>
      </div>

      <div class='subtitle'>
        <h3></h3>
        <h1></h1>
        <br>
        <p class='subtitle-1'>42 donors committed $367 Billion in country to country aid. While over half of the 42 donors are in Europe, United States and Japan accounted for over half of the $367 Billion aid. India is the biggest recipient of aid.</p>
        <p class='subtitle-2'>How are donations distributed across countries? Select a <span style="color:#FDB715">donor</span> or <span style="color:#70CACB">recipient</span> country from the dropdown or click one on the map to explore. To filter by year, select a year from the dropdown or scrub your mouse over the timeline chart.
          <button class="ui mini inverted icon button" id='reset' onclick='reset()'>Reset</button>
        </p>
        <p class='subtitle-3'></p>
      </div>

      <div class='menu'>
        <div id='global-header'>  

          <button class="ui mini btn-net basic button">Total Amount</button>
          <button class="ui mini btn-source basic button">Donors</button>
          <button class="ui mini btn-destination basic button">Recipients</button>

          <div class="ui search dropdown dropdown-country">
            <div class="default text">All Countries</div>
            <i class="dropdown icon" ></i>
            <div class="menu"></div>
          </div>  

          <div class="ui scrolling dropdown dropdown-year">
            <div class="default text">All Years</div>
            <i class="dropdown icon"></i>
            <div class="menu"></div>
          </div>
        
        </div>
      </div>

      <div id="chart">
        <svg></svg>
        <svg>
          <defs>
              <linearGradient id="originLinkStroke1" spreadMethod="pad">
                  <stop offset="30%" stop-color="#FDB715"></stop>
                  <stop offset="70%" stop-color="#70CACB"></stop>
              </linearGradient>
              <linearGradient id="originLinkStroke2" spreadMethod="pad">
                  <stop offset="30%" stop-color="#70CACB"></stop>
                  <stop offset="70%" stop-color="#FDB715"></stop>
              </linearGradient> 
              <linearGradient id="destinationLinkStroke1" spreadMethod="pad">
                  <stop offset="30%" stop-color="#FDB715"></stop>
                  <stop offset="70%" stop-color="#70CACB"></stop>
              </linearGradient>   
              <linearGradient id="destinationLinkStroke2" spreadMethod="pad">
                 <stop offset="30%" stop-color="#70CACB"></stop>
                  <stop offset="70%" stop-color="#FDB715"></stop>
              </linearGradient>
          </defs>
        </svg>
      </div>

      <div id='panel'>
        <h1 class="country-name"></h1>
        <div id='country-header'> 
            <div class='row'>
              <div class="ui tiny statistic stats-sum">
                <div class="label">Commitment Amount</div>
                <div class="value"></div>
                <!--<div class='stats-perc'>
                  <div class="ui white mini statistic perc_recipient">
                    <div class="value"></div>
                    <div class="label">RECIPIENTS</div>
                  </div>
                  <div class="ui white mini statistic perc_donor">
                    <div class="value"></div>
                    <div class="label">DONORS</div>
                  </div>
                </div>-->
              </div>
              <div class="ui tiny statistic country-ratio">
                <h3>Donor : Recipient</h3>
                <div class="ui inverted progress" id='ratio'>
                  <div class="bar">
                    <div class="progress"></div>
                  </div>
                </div>
              </div>
            </div>
        </div>
        <div class='stats-perc'></div>
        <div class='countries-content'></div>
      </div> 

      <div id="vis-nav">
        <button id="clickerBack" class="ui mini btn-control basic button progressButton inactiveButton">Back</button>
        <div id="circle_1" class="step-link"></div>
        <div id="circle_2" class="step-link"></div>
        <div id="circle_3" class="step-link"></div>
        <div id="circle_4" class="step-link"></div>
        <div id="circle_5" class="step-link"></div>
        <button id="clickerFront" class="ui mini btn-control basic button progressButton activeButton">Start</button>
      </div>

    </div>
  </div>

  <script>

    var toggle, reset, zoomIn, zoomOut
    var colors = {'recipient': '#70CACB', 'donor': '#FDB715', 'net': 'white'}
    $(document).ready(function(){
      $('.ui .item').on('click', function() {
      $('.ui .item').removeClass('active');
        $(this).addClass('active');
      });    
      $('.ui.dropdown').dropdown('show')   
      $('#dimmer').dimmer('show');
    }) 
  </script>
  <script src="./js/main.js"></script>
  <script src="./js/map.js"></script>
  <script src="./js/panel.js"></script>
  <script src="./js/heatmap.js"></script>
</body>
</html>